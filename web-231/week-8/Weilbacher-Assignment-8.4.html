<!--
============================================
; Title:  Weilbacher-Assignment-8.4.js
; Author: Andrew Weilbacher
; Date:   22 July 2019
; Description: Displays a formatted header and example dynamic HTML
;===========================================
*/ -->

<!-- header -->
<!-- const header = require('./Weilbacher-header.js'); -->

<!-- console.log(header.display("Andrew", "Weilbacher", "Assignment 8.4")); -->

<!-- HTML doc -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- you will need to the href to point to your root directories css file -->
  <link rel="stylesheet" href="C:\Users\aweilbacher\Documents\Bellevue\web-231\web-231\week-8">

  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>

<body>

    <div id="emps"></div>
    
    <script type="text/javascript">
        // employee constructor object
        function Employee(id, firstName, lastName, title) {
            this.id = id;
            this.firstName = firstName;
            this.lastName = lastName;
            this.title = title;
        }
        // employee array
        var employees = [
            new Employee(1, "Andrew", "Weilbacher", "Digital Marketing Manager"),
            new Employee(2, "Bianca", "Beckbissenger", "Marketing Operations Manager"),
            new Employee(3, "Tina", "Dominguez", "Content Manager"),
            new Employee(4, "Claudia", "Garcia", "Senior Product Marketing Manager"),
            new Employee(5, "Bryan", "Poss", "Vice President of Marketing")
        ];
        // get employee function to output array values in table
        function getEmployee(id) {
            employees.forEach(function(emp) {
                if(emp.id === id) {
                    alert(emp.id + " " + emp.firstName + " " + emp.lastName + " " + emp.title);
                    return;
                }
            });
        }
        // output for table creation
        var output = "<h1>Employee Listing</h1>";
            output += "<table id='employee'>";
            output += "<thead><tr><th>Id</th><th>First Name</th><th>Last Name</th><th>Title</th></tr></thead>";
            output += "<tbody>";
            
        // loop to iterate over constructor and add data into table
        employees.forEach(function(emp) {
            output += "<tr><td>" + emp.id + "</td>";
            output += "<td>" + emp.firstName + "</td>";
            output += "<td>" + emp.lastName + "</td>";
            output += "<td>" + emp.title + "</td></tr>";
        });
        output += "<tbody>";
        
        // call innerHTML and output code
        document.getElementById("emps").innerHTML = output;
        // onClick event register
        $(function () {
            $("table tr").click(function () {
                var id = $(this).find("td:first").html();
                getEmployee(parseInt(id));
            });
        });
    </script>
    </body>
    </html>
